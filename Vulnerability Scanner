# olavuln_scanner.py
import subprocess

def run_vulnerability_scan(target_ip):
    print(f"Running vulnerability scan on {target_ip}...")
    
    # Command to run nmap scan
    scan_command = ["nmap", "-sV", target_ip]
    
    try:
        # Execute the command and get the output
        result = subprocess.run(scan_command, capture_output=True, text=True)
        if result.returncode == 0:
            print(f"Scan completed. Results:\n{result.stdout}")
            
            # Save the results to a file
            output_file = f"{target_ip}_scan_results.txt"
            with open(output_file, "w") as f:
                f.write(result.stdout)
            
            print(f"Results saved to {output_file}")
        else:
            print(f"Error during scan:\n{result.stderr}")
    
    except Exception as e:
        print(f"Error running scan: {e}")

if __name__ == "__main__":
    target_ip = input("Enter the IP address to scan: ")
    run_vulnerability_scan(target_ip)
